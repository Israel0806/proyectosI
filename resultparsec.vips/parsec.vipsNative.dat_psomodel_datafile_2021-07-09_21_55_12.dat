{"config": {"pkg": "parsec.vips", "command": "runprocess.py -p parsec.vips -i native -f 2200000,2100000,2000000,1900000,1800000,1700000,1500000,1400000,1300000,1200000,1100000,1000000,900000,800000 -r 3 1,2,3,4,5,6,7,8", "modelcommand": "memorWallTest.py", "hostname": "AsusLaptop", "savedate": "2021-07-09_21:55:12", "modelcodesource": "# -*- coding: utf-8 -*-\n\"\"\"\n    Model function example to use with parsecpy runmodel script.\n    Model for variation of input size (n) and number of cores (p).\n\n    Speedup:\n        S = 1 / ( ( 1-f(p,n) ) + f(p,n)/p + Q(p,n) )\n\n    Parallel Fraction:\n        f(p,n) = max( min((f1) + (f2)/p + (f3)*(f4)^n,1 ),0 )\n\n    Overhead:\n        Q(p,n) = (f5) + ( (f6)*p )/( (f7)^n )\n\n\"\"\"\n\nimport numpy as np\nfrom numpy.lib import math\nfrom sklearn.metrics import mean_squared_error\n\ndef calculateMu(p,m1,m2):\n    return min(m1+m2/p, 1)\n\ndef calculateRho(k, phi):\n    return 1 + k*phi\n\n# values [f, m1, m2, k]\ndef _func_speedup(param, freq, cores):\n    \"\"\"\n    Model function to calculate the speedup without overhead.\n\n    :param fparam: Actual parameters values\n    :param p: Numbers of cores used on model data\n    :param n: Problems size used on model data\n    :return: calculated speedup value\n    \"\"\"\n\n    phi = (freq / 1000000) / 2.6\n\n    #(1 − mu) + rho mu\n    up_arg=(1-calculateMu(1,param[1],param[2]))+calculateRho(param[3],phi)*calculateMu(1,param[1],param[2])\n\n    # ((1 − mu_p ) + rho mu_p ) * (1 − f ) + f/p)\n    leftSide = ((1- calculateMu(cores, param[1], param[2])) + calculateRho(param[3], phi)) * ((1-param[0])+ param[0]/cores)\n\n    # rho mu_p\n    rightSide = phi*calculateMu(cores, param[1], param[2])\n\n    #Calculate max btw below args\n    below_arg = max(leftSide, rightSide)\n\n    speedup = up_arg / below_arg\n    return speedup\n\n\ndef model(par, x):\n    \"\"\"\n    Mathematical Model function to predict the measures values.\n\n    :param par: Actual parameters values\n    :param x: inputs array\n    :param overhead: If should be considered the overhead\n    :return: Dict with input array ('x') and predicted output array ('y')\n    \"\"\"\n    pred = []\n    for f, p in x:\n        y_model = _func_speedup(par, f, p)\n        pred.append(y_model)\n    return {'x': x, 'y': pred}\n\ndef constraint_function(par, x_meas, **kwargs):\n    \"\"\"\n    Constraint function that would be considered on model.\n\n    :param par: Actual parameters values\n    :param args: Positional arguments passed for objective\n                 and constraint functions\n    :return: If parameters are acceptable based on return functions\n    \"\"\"\n\n    pred = model(par, x_meas)\n    y = pred['y']\n    # x_meas es el training_size\n    # pred es la prediccion del algoritmo\n\n    is_feasable = np.min(y) > 1\n    return is_feasable\n\n\n# Par: Particulas [f, m1, m2 k] 0-1 0-10\n# x_meas: frecuencia y cores a tomar en cuenta (ts)\n# y_meas: \ndef objective_function(par, x_meas, y_meas, **kwargs):\n    \"\"\"\n    Objective function (target function) to minimize.\n\n    :param par: Actual parameters values\n    :param args: Positional arguments passed for objective\n                 and constraint functions\n    :return: Mean squared error between measures and predicts\n    \"\"\"\n    pred = model(par, x_meas)\n    # print(\"Y_meas\")\n    # print(y_meas)\n    # print(pred['y'])\n    # print()\n    return mean_squared_error(y_meas, pred['y'])", "modelexecparams": {"algorithm": "pso", "lowervalues": "[0, 0, 0, 0]", "uppervalues": "[1, 1, 1, 10]", "threads": 4, "size": 200, "w": 0.30557280900008416, "c1": 0.30557280900008416, "c2": 1.2222912360003366, "maxiter": 100, "modelcodefilepath": "/media/israel/ExtraSpaceLinux/proyectosI/memoryWall/examples/modelfunc_example_inputsize_cores.py", "parsecpydatafilepath": "/media/israel/ExtraSpaceLinux/proyectosI/memoryWall/parsec.vipsNative.dat", "verbosity": 1}, "measuresfraction": 64, "measuresfraction_points": [[1000000, 4], [1000000, 6], [1000000, 7], [1100000, 3], [1100000, 4], [1100000, 5], [1100000, 6], [1100000, 7], [1200000, 2], [1200000, 3], [1200000, 5], [1200000, 6], [1300000, 3], [1300000, 4], [1300000, 5], [1300000, 6], [1300000, 8], [1400000, 2], [1400000, 4], [1400000, 7], [1400000, 8], [1500000, 2], [1500000, 3], [1500000, 5], [1500000, 6], [1700000, 3], [1700000, 4], [1700000, 5], [1700000, 7], [1800000, 2], [1800000, 3], [1800000, 5], [1800000, 8], [1900000, 3], [1900000, 4], [1900000, 6], [1900000, 7], [2000000, 3], [2000000, 5], [2000000, 6], [2000000, 8], [2100000, 3], [2100000, 4], [2100000, 5], [2100000, 7], [2200000, 2], [2200000, 5], [2200000, 6], [2200000, 7], [800000, 3], [800000, 4], [800000, 7], [900000, 2], [900000, 5]]}, "data": {"params": "[0.8800687326011852, 0.7677098301344899, 0.6979700267533121, 1.9931368267611498]", "error": 0.04715263781264223, "errorrel": 0.5570848916270912, "parsecdata": {"dims": ["frequency", "cores"], "attrs": {"pkg": "parsec.vips", "execdate": "03-07-2021_12:21:39", "command": "runprocess.py -p parsec.vips -i native -f 2200000,2100000,2000000,1900000,1800000,1700000,1500000,1400000,1300000,1200000,1100000,1000000,900000,800000 -r 3 1,2,3,4,5,6,7,8", "input_sizes": ["native"], "hostname": "AsusLaptop", "size": "static: 1"}, "data": [[1.900650469783733, 2.725873754152824, 2.9304817418138183, 3.0127340823970035, 3.463026742301459, 3.61282936452022, 3.6942278253039174], [1.9494822717288987, 2.7182441300860436, 2.9217231453244787, 3.1772663877266387, 3.5348608668666595, 3.709589288945178, 3.708180354849795], [1.9802410704837763, 2.9446550416982564, 3.140764700497391, 3.192741372625049, 3.6651947866961043, 3.7497176582024845, 3.862646126132888], [1.992731211013569, 2.9675878539747527, 3.189851472770008, 3.579423868312757, 3.68950159066808, 3.807094681972823, 3.863748334208294], [1.9876417220845344, 2.955182072829132, 3.088342916884475, 3.5034591816564538, 3.6817615288741172, 3.7965085145121558, 3.868517548454688], [1.9898876810285668, 2.9313683762502656, 3.0686716791979944, 3.3725210152615683, 3.6825290736532543, 3.7866306240263903, 3.8606563120401725], [1.9618803879310347, 2.9551403006878085, 3.3565321595649067, 3.561385920727682, 3.673114266259804, 3.7986073077224, 3.849711899349791], [1.9881578947368423, 2.9558665462831595, 3.2014202561117577, 3.202613313457866, 3.667671379034409, 3.769009374486048, 3.8241461786628097], [1.9891786438249683, 2.9231975272694695, 3.089114535255272, 3.2110222659613727, 3.6388780460603356, 3.778466170637793, 3.8745992162451017], [1.9855580639479962, 2.9676462142241795, 3.079666236217344, 3.5069283411571743, 3.638422720337988, 3.7995036612641315, 3.869812145041503], [1.982716879623403, 2.927006031123576, 3.349769925580867, 3.1968555164001082, 3.6777895590344913, 3.80180528691167, 3.8380577342402447], [2.0000000000000004, 2.96560415900856, 3.094296202947784, 3.5056333219528852, 3.6472487729268925, 3.673344607779368, 3.757918552036199], [1.9222721461873966, 2.7025466175051873, 2.905269289235534, 3.211051094432057, 3.2513315420449307, 3.5860031213284933, 3.712763253449528], [1.9125811119929044, 2.719797655243836, 2.8757317535411957, 3.2440217907705953, 3.486520066718862, 3.702544915591223, 3.752945056153015]], "coords": {"frequency": {"dims": ["frequency"], "attrs": {}, "data": [1000000, 1100000, 1200000, 1300000, 1400000, 1500000, 1700000, 1800000, 1900000, 2000000, 2100000, 2200000, 800000, 900000]}, "cores": {"dims": ["cores"], "attrs": {}, "data": [2, 3, 4, 5, 6, 7, 8]}}, "name": null}, "speedupmodel": {"dims": ["frequency", "cores"], "attrs": {}, "data": [[1.7858238788575467, 2.4196230757869137, 2.8484302111043056, 3.210543185725067, 3.5197628356777653, 3.786566960776986, 4.018988838774317], [1.7858238788575467, 2.419623075786914, 2.8521881571745427, 3.2172139361314835, 3.5288029674665986, 3.797592561868732, 4.031711074036797], [1.785823878857547, 2.4196230757869137, 2.8556547751551746, 3.223376515623637, 3.5371623013079065, 3.8077945653100365, 4.043488711420579], [1.785823878857547, 2.419623075786914, 2.858862677955776, 3.2290868614865103, 3.54491495121353, 3.8172619309730838, 4.0544231866950655], [1.7858238788575467, 2.4196230757869137, 2.8618397857650666, 3.2343929917927188, 3.552124650158003, 3.8260712521315523, 4.064601913944955], [1.785823878857547, 2.4196230757869137, 2.864610140795576, 3.239336358930602, 3.5588465061559735, 3.834288832188352, 4.07410062744907], [1.785823878857547, 2.4196230757869137, 2.8696111488957916, 3.2482740870908766, 3.571012195862801, 3.8491722485496043, 4.091313522782986], [1.7858238788575467, 2.419623075786914, 2.871875746850176, 3.252327293972952, 3.5765345382961367, 3.8559327777405006, 4.020769414516274], [1.7858238788575467, 2.419623075786914, 2.8740022541792865, 3.256136727998334, 3.5817277531615237, 3.8622929705246425, 3.931848599421842], [1.785823878857547, 2.4196230757869137, 2.8760029279112587, 3.2597237390631495, 3.5866204126611008, 3.796473977013889, 3.8518198658368528], [1.7858238788575467, 2.4196230757869137, 2.877888616168643, 3.263107254652673, 3.591237874796333, 3.7251074259143966, 3.7794129164028147], [1.785823878857547, 2.419623075786914, 2.8796689549499597, 3.2663041139304347, 3.5914229993320284, 3.6602287430966767, 3.7135884169173257], [1.7858238788575467, 2.419623075786914, 2.8398799612008734, 3.1954031512798564, 3.4992780108976733, 3.761611002916561, 3.990216383586627], [1.7858238788575467, 2.4196230757869137, 2.8443426021508644, 3.203298705140918, 3.5099552075482254, 3.7746138347243265, 4.005203619285377]], "coords": {"frequency": {"dims": ["frequency"], "attrs": {}, "data": [800000, 900000, 1000000, 1100000, 1200000, 1300000, 1400000, 1500000, 1700000, 1800000, 1900000, 2000000, 2100000, 2200000]}, "cores": {"dims": ["cores"], "attrs": {}, "data": [2, 3, 4, 5, 6, 7, 8]}}, "name": null}}}